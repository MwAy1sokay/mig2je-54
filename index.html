<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Matt ‚Äî Music Embedder 5.0</title>

  <!-- fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Fugaz+One&display=swap" rel="stylesheet"/>

  <style>
  :root{
    --bg-body:#1e1e1e; --bg-main:#2a2a2a;
    --fg:#e8e8e8;      --accent:#3d7dff; --accent-h:#5690ff;
    --danger:#ff4d4d;
  }
  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  body{margin:0;padding:1rem;display:flex;justify-content:center;
       background:var(--bg-body);color:var(--fg);font-family:Arial,Helvetica,sans-serif}
  #app{width:100%;max-width:900px;background:var(--bg-main);border-radius:8px;padding:1rem;
       box-shadow:0 0 12px rgba(0,0,0,.4)}
  h1{margin:0 0 1rem;text-align:center;font-size:1.9rem}
  .music{font-family:'Fugaz One',sans-serif;font-style:italic;color:var(--accent)}

  /* tiny (hidden) iframe  ‚Äì‚Äì point 1 */
  #ytWrapper{position:absolute;width:0;height:0;overflow:hidden}

  /* tabs ‚Äì‚Äì point 2 */
  .tabs{display:flex;gap:.5rem;justify-content:center;margin-bottom:.8rem;flex-wrap:wrap}
  .tabs button{flex:1 1 90px;padding:.45rem 0;border:0;border-radius:4px;background:#0002;
               color:var(--fg);cursor:pointer}
  .tabs button.active{background:var(--accent);color:#fff}
  .pane{display:none;max-height:340px;overflow-y:auto;list-style:none;margin:0;padding:0}
  .pane.active{display:block}
  .pane li{display:flex;align-items:center;gap:.5rem;
           padding:.45rem .7rem;border-bottom:1px solid #333}
  .pane li .ttl{flex:1 1 auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .pane li.selected{background:var(--accent);color:#fff}

  /* buttons / inputs */
  .row{display:flex;gap:.6rem;flex-wrap:wrap;justify-content:center;margin-top:1rem}
  input[type=text]{background:#0003;border:1px solid #444;color:var(--fg);
                   padding:.5rem .8rem;border-radius:4px;min-width:160px}
  button{border:0;padding:.5rem 1rem;border-radius:4px;background:var(--accent);
         color:#fff;cursor:pointer;transition:background .15s,transform .1s}
  button:hover{background:var(--accent-h)}
  button:active{transform:scale(.97)}
  button.icon{padding:.3rem .45rem;background:#0000;font-size:.9rem}
  button.icon:hover{background:#ffffff22}
  .toggle-group button{background:#0002;color:var(--fg)}
  .toggle-group button.active{background:var(--accent);color:#fff}

  /* toast (undo) ‚Äì‚Äì point 3 */
  #toast{position:fixed;bottom:1rem;left:50%;transform:translateX(-50%);
         background:#000d;color:#fff;padding:.6rem 1rem;border-radius:5px;display:none}
  </style>
</head>
<body>
  <div id="app">
    <h1>Matt‚Äôs <span class="music">MUSIC</span> Embedder</h1>

    <!-- hidden YT iframe (audio only) -->
    <div id="ytWrapper"><div id="ytPlayer"></div></div>

    <!-- ==== TABS ==== -->
    <div class="tabs" id="tabBar">
      <button data-tab="pl"   class="active">Playlists</button>
      <button data-tab="cur">Current</button>
      <button data-tab="his">History</button>
    </div>

    <ul id="pl"  class="pane active"></ul>
    <ul id="cur" class="pane"></ul>
    <ul id="his" class="pane"></ul>

    <!-- ==== CONTROLS ==== -->
    <div class="row toggle-group" id="modeGroup">
      <button data-mode="normal" class="active">‚ñ∂Ô∏è Normal</button>
      <button data-mode="shuffle">üîÄ Shuffle</button>
    </div>

    <div class="row">
      <input id="plName" type="text" placeholder="new playlist name"/>
      <button id="newPlBtn">New playlist</button>
    </div>

    <div class="row">
      <input id="ytCode" type="text" placeholder="YouTube code (e.g. dQw4w9WgXcQ)" autocomplete="off"/>
      <button id="playBtn">Play</button>
      <button id="addBtn">Add current to playlist</button>
    </div>
  </div>

  <div id="toast"></div>

  <!-- Main bundle -->
  <script type="module" src="./main.js"></script>
</body>
</html>
